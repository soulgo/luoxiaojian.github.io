
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>find命令总结 | 在路上的罗小贱</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="罗小贱">
    
    <meta name="description" content="本篇总结了find命令..">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/touxiang.png" alt="在路上的罗小贱" title="在路上的罗小贱"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="在路上的罗小贱">在路上的罗小贱</a></h1>
				<h2 class="blog-motto">浮沉间的小小IT民工，行走在迷茫的道路上！</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="off" name="q" maxlength="20" placeholder="Search" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/21/find命令总结/" title="find命令总结" itemprop="url">find命令总结</a>
  </h1>
  <p class="article-author">By
    
      <a href="//luojunquan.top" title="罗小贱">罗小贱</a>
    </p>
  <p class="article-time">
    <time datetime="2017-02-21T07:58:55.000Z" itemprop="datePublished">2017-02-21</time>
    Updated:<time datetime="2017-02-22T02:46:48.437Z" itemprop="dateModified">2017-02-22</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
		</div>
		
		<p>本篇总结了find命令..</p>
<a id="more"></a>
<ol>
<li>第1章find搜索</li>
</ol>
<p>格式：find 搜索范围 搜索条件（注：如果是在当前目录下，可以不写搜索范围这个条件）</p>
<p>例如：find /home -name文件名（当前目录下的find -name文件名）</p>
<p>find 目录 -type f -name &quot;文件名&quot;   //找那个目录下那个类型的文件</p>
<p>例题：把/oldboy 目录及其子目录下所有以扩展名.sh 结尾的文件中包含./hostlists.txt 的字符串</p>
<p>全部替换为../idctest_iplist。</p>
<p>  答：find /oldboy -type f -name &quot;.sh&quot; | xargs sed &#39;s/.\/hostlists.txt/..\/idctest_iplist/g&#39; -i   //注：xargs是传递结果</p>
<p>注：find搜索是完全匹配</p>
<p>1.</p>
<ol>
<li>1.1模糊查询：</li>
</ol>
<ol>
<li><p>* 匹配任意字幕，包括隐藏文件</p>
</li>
<li><p>？ 匹配任意**一个**字符</p>
</li>
<li><p>【】匹配任意一个括号内的字符</p>
</li>
<li><p>组合使用：find /home -name *[12,显示所有1和2结尾的文件</p>
</li>
</ol>
<p>1.</p>
<ol>
<li>1.2按文件时间搜索</li>
</ol>
<ol>
<li><p>find /home -mtime +10(当前目录可以不用写/home）在home目录下查找10天前修改的文件</p>
</li>
<li><p>find /home -mtime 10 在home目录下，查找10天前当天修改的文件</p>
</li>
<li><p>find /home -mtime -10 在home目录下，查找10天内修改的文件</p>
</li>
</ol>
<p>扩展（跟按文件时间搜索是一个类型）（find /home 以下参数 时间）</p>
<ul>
<li><p>atime文件访问时间</p>
</li>
<li><p>ctime改变文件属性</p>
</li>
<li><p>mtime修改文件内容</p>
</li>
</ul>
<p>find搜索(以下都是如果在当前目录下可以不写）</p>
<ol>
<li><p>find /home -iname test不区分大小写格式的搜索test</p>
</li>
<li><p>find /root -user root搜索root目录下的所有属于root用户的文件</p>
</li>
<li><p>find /root -nouser没有所属的文件（注：liunx中，每个文件都有所属者，如果没有，那么一般都是垃圾文件，但还是有特例的，比如内核产生的文件，就没有所属者，一般在proc和sys目录下；还有外来文件，也就是U盘拷入的文件也会忽略所有者。）</p>
</li>
<li><p>find 目录 -size 文件大小（注：文件大小用小写k和大写M分别表示）</p>
<ol>
<li><p>-a 表示and(find 目录 -size 大于多少用加 -a -size 小于多少-</p>
</li>
<li><p>-o表示或（跟上面一样）</p>
</li>
</ol>
</li>
<li><p>find 目录 -size +20k -a -size -exec ls -lh {} \;(后面的**；**不能往忘）</p>
<ol>
<li><p>注： -exec 处理前面条件的命令（上面例子就是显示出前面条件的命令） {} \; 固定格式，表示直接对前面的搜索结果进行后面的命令处理</p>
</li>
<li><p>再举个例子find 目录 -size +20k -a -size -exec rm -rf {} \;删除前面满足条件的东西</p>
</li>
</ol>
</li>
<li><p>第2章find与xargs的结合</p>
<ol>
<li>2.1xargs与cp的结合</li>
</ol>
</li>
</ol>
<p>find /data/oldboy/ -type f -name &quot;*.log&quot; -size +1M | <strong>xargs -i cp {}</strong> /tmp/qw/</p>
<p>注：|以前的时find搜索的条件，红色的部分是cp的格式，/tmp/qw/后面的是复制到所在的文件路径</p>
<p>find /oldboy/  -type f -name &quot;*.log&quot; |xargs cp -t /tmp/d</p>
<p>关于cp -t</p>
<p><strong>cp -t q w   //把w文件复制到q目录里</strong></p>
<p>1.</p>
<ol>
<li>2.2xargs与rm的结合</li>
</ol>
<p>find /tmp/qw/ -type f -name &quot;*.log&quot; | xargs rm -f</p>
<ol>
<li>第3章find与exec的结合<ol>
<li>3.1exec与cp的组合</li>
</ol>
</li>
</ol>
<p>find /data/oldboy/ -type f -name &quot;*.log&quot; -size +1M <strong>-exec cp {} /tmp/qw/  \;</strong></p>
<p><strong>注意后面要有\;    </strong></p>
<p><strong>/tmp/qw/就是所要复制到的地址</strong></p>
<p>1.</p>
<ol>
<li>3.2exec与rm的组合</li>
</ol>
<p>find /tmp/qw -type f -name &quot;*.log&quot; <strong>-exec rm -f {} \;</strong></p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/Linux/">Linux</a><a href="/tags/命令总结/">命令总结</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Linux/">Linux</a>
</div>



<div class="article-share" id="share">

  <div data-url="//luojunquan.top/2017/02/21/find命令总结/" data-title="find命令总结 | 在路上的罗小贱" data-tsina="undefined" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/02/21/Bmob后端云(注册和登陆）/" title="Bmob后端云(Jar文件）">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Bmob后端云(Jar文件）</span>
</a>
</div>


<div class="next">
<a href="/2017/02/21/Handler知识的总结/"  title="Handler的总结">
 <strong>NEXT:</strong><br/> 
 <span>Handler的总结
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  

  

  

  

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/luojunquan" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/luojunquan" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2017 
		
		<a href="//luojunquan.top" target="_blank" title="罗小贱">罗小贱</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"luojunquan"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





  </body>
</html>
