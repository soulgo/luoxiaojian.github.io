
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>Android面试进阶 | 在路上的罗小贱</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="罗小贱">
    
    <meta name="description" content="本篇总结了Android面试进阶..">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/touxiang.png" alt="在路上的罗小贱" title="在路上的罗小贱"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="在路上的罗小贱">在路上的罗小贱</a></h1>
				<h2 class="blog-motto">浮沉间的小小IT民工，行走在迷茫的道路上！</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
					<li>
					
					<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" autocomplete="off" name="q" maxlength="20" placeholder="Search" />
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/02/21/Android面试进阶/" title="Android面试进阶" itemprop="url">Android面试进阶</a>
  </h1>
  <p class="article-author">By
    
      <a href="//luojunquan.top" title="罗小贱">罗小贱</a>
    </p>
  <p class="article-time">
    <time datetime="2017-02-21T07:59:53.000Z" itemprop="datePublished">2017-02-21</time>
    Updated:<time datetime="2017-02-21T07:59:54.989Z" itemprop="dateModified">2017-02-21</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是ANR，如何避免？"><span class="toc-number">1.</span> <span class="toc-text">什么是ANR，如何避免？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Handler机制原理？"><span class="toc-number">2.</span> <span class="toc-text">Handler机制原理？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#请解释下在单线程模型中Message、Handler、Message-Queue、Looper之间的关系。"><span class="toc-number">3.</span> <span class="toc-text">请解释下在单线程模型中Message、Handler、Message Queue、Looper之间的关系。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android-中线程与线程，进程与进程之间如何通信"><span class="toc-number">4.</span> <span class="toc-text">Android 中线程与线程，进程与进程之间如何通信 ?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#View-surfaceView-GLSurfaceView的区别"><span class="toc-number">5.</span> <span class="toc-text">View, surfaceView, GLSurfaceView的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#关于AndroidOOM，以及如何避免？"><span class="toc-number">6.</span> <span class="toc-text">关于AndroidOOM，以及如何避免？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#说说mvc模式的原理，它在android中的运用"><span class="toc-number">7.</span> <span class="toc-text">说说mvc模式的原理，它在android中的运用?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？"><span class="toc-number">8.</span> <span class="toc-text">要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#对于Android-的安全问题，你知道多少"><span class="toc-number">9.</span> <span class="toc-text">对于Android 的安全问题，你知道多少</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android启动Service的两种方式是什么-它们的适用情况是什么"><span class="toc-number">10.</span> <span class="toc-text">Android启动Service的两种方式是什么? 它们的适用情况是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#介绍下实现一个自定义view的基本流程"><span class="toc-number">11.</span> <span class="toc-text">介绍下实现一个自定义view的基本流程?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android多线程的实现方式有哪些"><span class="toc-number">12.</span> <span class="toc-text">Android多线程的实现方式有哪些?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android下解决滑动冲突的常见思路是什么"><span class="toc-number">13.</span> <span class="toc-text">Android下解决滑动冲突的常见思路是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HttpURLConnection和HttpClient他们各自的优缺点是什么"><span class="toc-number">14.</span> <span class="toc-text">HttpURLConnection和HttpClient他们各自的优缺点是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#请问平时开发过程中，你是如何做到多分辨率适配的？"><span class="toc-number">15.</span> <span class="toc-text">.请问平时开发过程中，你是如何做到多分辨率适配的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如何在不失真的条件下显示一张超高清的图片或者长图"><span class="toc-number">16.</span> <span class="toc-text">如何在不失真的条件下显示一张超高清的图片或者长图?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-android-async-http"><span class="toc-number">17.</span> <span class="toc-text">1. android-async-http.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android-fragment和activity的区别"><span class="toc-number">18.</span> <span class="toc-text">Android fragment和activity的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Service和广播-BroadcastReceivre会不会出现ANR？"><span class="toc-number">19.</span> <span class="toc-text">Service和广播 BroadcastReceivre会不会出现ANR？</span></a></li></ol>
		</div>
		
		<p>本篇总结了Android面试进阶..</p>
<a id="more"></a>
<h1 id="什么是ANR，如何避免？"><a href="#什么是ANR，如何避免？" class="headerlink" title="什么是ANR，如何避免？"></a>什么是ANR，如何避免？</h1><blockquote>
<p>ANR：Application Not Responding。<br>在 Android 中，活动管理器和窗口管理器这两个系统服务负责监视应用程序的响应。当出现下列情况时，Android 就会显示 ANR 对话框了： </p>
<ol>
<li>用户对应用程序的操作(如输入事件，按键、触摸屏事件)在5秒内无响应 </li>
<li>广播接受器(BroadcastReceiver)在10秒内仍未执行完毕 </li>
<li>ServiceTimeout(20 seconds) –小概率类型，Service在特定的时间内无法处理完成</li>
</ol>
<p>超时的原因一般有两种： </p>
<p>(1)当前的事件没有机会得到处理（UI线程正在处理前一个事件没有及时完成或者looper被某种原因阻塞住） </p>
<p>(2)当前的事件正在处理，但没有及时完成</p>
<p>UI线程尽量只做跟UI相关的工作，耗时的工作（数据库操作，I/O，连接网络或者其他可能阻碍UI线程的操作）放入单独的线程处理，尽量用Handler来处理UI thread和thread之间的交互。</p>
<p>UI线程主要包括如下：<br>Activity:onCreate(), onResume(), onDestroy(), onKeyDown(), onClick()<br>AsyncTask: onPreExecute(), onProgressUpdate(), onPostExecute(), onCancel()<br>Mainthread handler: handleMessage(), post(runnable r) </p>
<p>Android 应用程序完全运行在一个独立的线程中(例如 main)。这就意味着，任何在主 线程中运行的，需要消耗大量时间的操作都会引发 ANR。因为此时，你的应用程序已经没有机会去响应输入事件和意向广播(Intentbroadcast)。<br>避免方法：Activity 应该在它的关键生命周期方法（如 onCreate()和 onResume()）里尽可能少的去做创建操作，<br>潜在的耗时操作。例如网络或数据库操作，或者高耗时的计算如改变位图尺寸，应该在子线程里（或者异步方式）来完成。<br>主线程应该为子线程提供一个 Handler，以便完成时能够提交给主线程。</p>
</blockquote>
<h1 id="Handler机制原理？"><a href="#Handler机制原理？" class="headerlink" title="Handler机制原理？"></a>Handler机制原理？</h1><blockquote>
<p>andriod 提供了 Handler 和 Looper 来满足线程间的通信。Handler 先进先出原则。<br>Looper 类用来管理特定线程内对象之间的消息交换 (MessageExchange)。 </p>
<ol>
<li>Looper: 一个线程可以产生一个 Looper 对象，由它来管理此线程里的 MessageQueue(消息队列)。 </li>
<li>Handler: 你可以构造 Handler 对象来与 Looper 沟通，以便 push 新消息到 MessageQueue 里;或者接收 Looper 从 MessageQueue 取出)所送来的消息。 </li>
<li>Message Queue(消息队列 ): 用来存放线程放入的消息。 </li>
<li>线程： UI thread 通常就是 main thread， 而 Android 启动程序时会替它建立一个 MessageQueue。</li>
</ol>
</blockquote>
<h1 id="请解释下在单线程模型中Message、Handler、Message-Queue、Looper之间的关系。"><a href="#请解释下在单线程模型中Message、Handler、Message-Queue、Looper之间的关系。" class="headerlink" title="请解释下在单线程模型中Message、Handler、Message Queue、Looper之间的关系。"></a>请解释下在单线程模型中Message、Handler、Message Queue、Looper之间的关系。</h1><p>&gt;</p>
<ol>
<li>MessageQueue：装食物的容器 </li>
<li>Message：被装的食物 </li>
<li>Handler（msg.target实际上就是Handler）：食物的消费者 </li>
<li>Looper：负责分发食物的人</li>
</ol>
<blockquote>
<p>简单的说，Handler获取当前线程中的 looper对象，looper 用来从存放 Message 的 MessageQueue中取出 Message，再有 Handler 进行 Message 的分发和处理. </p>
<p>Message Queue(消息队列)： 用来存放通过 Handler 发布的消息， 通常附属于某一个创建它的线程，可以通过 Looper.myQueue()得到当前线程的消息队列 </p>
<p>Handler：可以发布或者处理一个消息或者操作一个 Runnable，通过 Handler发布消息， 消息将只会发送到与它关联的消息队列，然也只能处理该消息队列中的消息 </p>
<p>Looper：是 Handler 和消息队列之间通讯桥梁，程序组件首先通过 Handler 把消息传递给 Looper，Looper 把消息放入队列。Looper 也把消息队列里的消息广播给所有的 </p>
<p>Handler：Handler 接受到消息后调用 handleMessage进行处理 </p>
<p>Message：消息的类型，在 Handler 类中的 handleMessage 方法中得到单个的消息进行处理 </p>
<p>在单线程模型下， 为了线程通信问题， Android 设计了一个 Message Queue(消息队列)， 线程间可以通过该 Message Queue 并结合 Handler 和 Looper 组件进行信息交换。 </p>
<p>下面将对它 们进行分别介绍：</p>
<ol>
<li>Message :Message 消息，理解为线程间交流的信息，处理数据后台线程需要更新 UI ，则发送Message 内含一些数据给 UI 线程。 </li>
<li>Handler<br>Handler处理者，是 Message 的主要处理者，负责 Message 的发送，Message 内容的执行处理。后台线程就是通过传进来的 Handler对象引用来 sendMessage(Message)。<br>而使用 Handler，需要 implement 该类的 handleMessage(Message)方法，它是处理这些<br>Message 的操作内容，例如 Update UI 。通常需要子类化 Handler 来实现 handleMessage方法。 </li>
<li>Message Queue<br>Message Queue 消息队列，用来存放通过 Handler 发布的消息，按照先进先出执行。每个 message queue 都会有一个对应的 Handler。Handler 会向 messagequeue 通过两种方法发送消息：sendMessage 或 post。这两种消息都会插在 message queue 队尾并<br>按先进先出执行。但通过这两种方法发送的消息执行的方式略有不同：通过 sendMessage发送的是一个 message 对象,会被 Handler 的 handleMessage()函数处理；而通过 post 方法发送的是一个 runnable 对象，则会自己执行。 </li>
<li>Looper<br>Looper 是每条线程里的 Message Queue 的管家。Android 没有 Global 的MessageQueue，而 Android 会自动替主线程(UI 线程)建立 Message Queue，但在子线程里并没有建立 Message Queue。 所以调用 Looper.getMainLooper()得到的主线程的 Looper 不为 NULL，但调用 Looper.myLooper()得到当前线程的 Looper 就有可能为 NULL。</li>
</ol>
</blockquote>
<h1 id="Android-中线程与线程，进程与进程之间如何通信"><a href="#Android-中线程与线程，进程与进程之间如何通信" class="headerlink" title="Android 中线程与线程，进程与进程之间如何通信 ?"></a>Android 中线程与线程，进程与进程之间如何通信 ?</h1><blockquote>
<p>1、一个 Android 程序开始运行时，会单独启动一个 Process(进程）。<br>默认情况下，所有这个程序中的 Activity 或者 Service 都会跑在这个 Process。<br>默认情况下，一个 Android 程序也只有一个 Process，但一个 Process 下却可以有许多个 Thread。 </p>
<p>2、一个 Android 程序开始运行时，就有一个主线程 MainThread 被创建。该线程主要负责 UI 界面的显示、更新和控件交互，所以又叫 UI Thread。 </p>
<p>一个 Android 程序创建之初，一个 Process 呈现的是单线程模型–即 Main Thread，<br>所有的任务都在一个线程中运行。所以，Main Thread 所调用的每一个函数，其耗时应该<br>越短越好。而对于比较费时的工作，应该设法交给子线程去做，以避免阻塞主线程（主线程被阻塞，会导致程序假死 现象）。</p>
<p>3、Android 单线程模型：Android UI 操作并不是线程安全的并且这些操作必须在 UI 线程中执行。如果在子线程中直接修改 UI，会导致异常。 </p>
<p>4.Android 的 的 IPC （ 进程间通信 ） 机制<br>IPC 是内部进程通信的简称， 是共享 ” 命名管道 ” 的资源。Android 中的 IPC机制是为了让<br>Activity 和 Service之间可以随时的进行交互，故在 Android 中该机制，只适用于 Activity 和 Service之间的通信，类似于远程方法调用，类似于 C/S 模式的访问。通过定义 AIDL 接口文件来定义 IPC 接口。Servier 端实现 IPC接口，Client 端调用 IPC接口本地代理。</p>
</blockquote>
<h1 id="View-surfaceView-GLSurfaceView的区别"><a href="#View-surfaceView-GLSurfaceView的区别" class="headerlink" title="View, surfaceView, GLSurfaceView的区别"></a>View, surfaceView, GLSurfaceView的区别</h1><p>View 是最基础的，必须在 UI 主线程内更新画面，速度较慢。 </p>
<p>SurfaceView 是 view 的子类，类似使用双缓机制，在新的线程中更新画面所以刷新界面速度比 view 快 GLSurfaceView 是SurfaceView 的子类，opengl 专用的。 </p>
<p>区别：SurfaceView是从View基类中派生出来的显示类，直接子类有GLSurfaceView和VideoView，可以看出GL和视频播放以及Camera摄像头一般均使用SurfaceView</p>
<p>SurfaceView和View最本质的区别在于，surfaceView是在一个新起的单独线程中可以重新绘制画面而View必须在UI的主线程中更新画面。<br>那么在UI的主线程中更新画面 可能会引发问题，比如你更新画面的时间过长，那么你的主UI线程会被你正在画的函数阻塞。那么将无法响应按键，触屏等消息。 </p>
<p>当使用surfaceView 由于是在新的线程中更新画面所以不会阻塞你的UI主线程。但这也带来了另外一个问题，就是事件同步。比如你触屏了一下，你需要surfaceView中thread处理，一般就需要有一个event queue的设计来保存touch event，这会稍稍复杂一点，因为涉及到线程同步。</p>
<h1 id="关于AndroidOOM，以及如何避免？"><a href="#关于AndroidOOM，以及如何避免？" class="headerlink" title="关于AndroidOOM，以及如何避免？"></a>关于AndroidOOM，以及如何避免？</h1><p>Android的虚拟机是基于寄存器的Dalvik，它的最大堆大小一般是16M，有的机器为24M。因此我们所能利用的内存空间是有限的。如果我们的内存占用超过了一定的水平就会出现OutOfMemory的错误。 </p>
<p>1.使用缓存技术，比如LruCache、DiskLruCache、对象重复并且频繁调用可以考虑对象池</p>
<p>2.对于引用生命周期不一样的对象，可以用软引用或弱引用</p>
<p>3.对于资源对象 使用finally 强制关闭</p>
<p>4.内存压力过大就要统一的管理内存</p>
<p>5.对于java中不再使用的资源需要尽快的释放，即设置成null，不要老是指望垃圾回收器为你工作。如果不设置成null，那么资源回收会受到一定的影响。</p>
<p>6.尽量少用static方法和static成员。因为static的方法或成员被外部使用的话，而外部的牵引对象没有对其进行释放的话那么整个static的类都不会被释放，也就造成内存泄漏。</p>
<p>7.对于不再使用的bitmap应该手动调用recycle方法，并且设置成null。图片还要尽量使用软引用方式，这样可以加快垃圾回收。</p>
<h1 id="说说mvc模式的原理，它在android中的运用"><a href="#说说mvc模式的原理，它在android中的运用" class="headerlink" title="说说mvc模式的原理，它在android中的运用?"></a>说说mvc模式的原理，它在android中的运用?</h1><p>android的官方建议应用程序的开发采用mvc模式。何谓mvc？</p>
<p>　mvc是model,view,controller的缩写，mvc包含三个部分： </p>
<ol>
<li>模型（model）对象：是应用程序的主体部分，所有的业务逻辑都应该写在该层。 </li>
<li>视图（view）对象：是应用程序中负责生成用户界面的部分。也是在整个mvc架构中用户唯一可以看到的一层，接收用户的输入，显示处理结果。 </li>
<li>控制器（control）对象：是根据用户的输入，控制用户界面数据显示及更新model对象状态的部分，控制器更重要的一种导航功能，想用用户出发的相关事件，交给m处理。 </li>
<li><p>　android鼓励弱耦合和组件的重用，在android中mvc的具体体现如下： </p>
<ol>
<li>视图层（view）：一般采用xml文件进行界面的描述，使用的时候可以非常方便的引入，当然，如何你对android了解的比较的多了话，就一定 可以想到在android中也可以使用JavaScript+html等的方式作为view层，当然这里需要进行java和javascript之间的通 信，幸运的是，android提供了它们之间非常方便的通信实现。 </li>
<li>控制层（controller）：android的控制层的重 任通常落在了众多的acitvity的肩上，这句话也就暗含了不要在acitivity中写代码，要通过activity交割model业务逻辑层处理， 这样做的另外一个原因是android中的acitivity的响应时间是5s，如果耗时的操作放在这里，程序就很容易被回收掉。 </li>
<li>模型层（model）：对数据库的操作、对网络等的操作都应该在model里面处理，当然对业务计算等操作也是必须放在的该层的。 </li>
</ol>
</li>
</ol>
<h1 id="要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？"><a href="#要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？" class="headerlink" title="要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？"></a>要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？</h1><ol>
<li>tem布局，层级越少越好，使用hierarchyview工具查看优化。 </li>
<li>复用convertView </li>
<li>使用ViewHolder </li>
<li>item中有图片时，异步加载 </li>
<li>快速滑动时，不加载图片 </li>
<li>item中有图片时，应对图片进行适当压缩 </li>
<li>实现数据的分页加载</li>
</ol>
<h1 id="对于Android-的安全问题，你知道多少"><a href="#对于Android-的安全问题，你知道多少" class="headerlink" title="对于Android 的安全问题，你知道多少"></a>对于Android 的安全问题，你知道多少</h1><ol>
<li>错误导出组件 </li>
<li>参数校验不严 </li>
<li>WebView引入各种安全问题,webview中的js注入 </li>
<li>不混淆、不防二次打包 </li>
<li>明文存储关键信息 </li>
<li>错误使用HTTPS </li>
<li>山寨加密方法 </li>
<li>滥用权限、内存泄露、使用debug签名</li>
</ol>
<h1 id="Android启动Service的两种方式是什么-它们的适用情况是什么"><a href="#Android启动Service的两种方式是什么-它们的适用情况是什么" class="headerlink" title="Android启动Service的两种方式是什么? 它们的适用情况是什么?"></a>Android启动Service的两种方式是什么? 它们的适用情况是什么?</h1><p>如果后台服务开始后基本可以独立运行的话，可以用startService。音乐播放器就可以这样用。它们会一直运行直到你调用 stopSelf或者stopService。你可以通过发送Intent或者接收Intent来与正在运行的后台服务通信，但大部分时间，你只是启动服务并让它独立运行。如果你需要与后台服务通过一个持续的连接来比较频繁地通信，建议使用bind()。比如你需要定位服务不停地把更新后的地理位置传给UI。Binder比Intent开发起来复杂一些，但如果真的需要，你也只能使用它。 </p>
<p>startService：生命周期与调用者不同。启动后若调用者未调用stopService而直接退出，Service仍会运行 </p>
<p>bindService：生命周期与调用者绑定，调用者一旦退出，Service就会调用unBind-&gt;onDestroy</p>
<h1 id="介绍下实现一个自定义view的基本流程"><a href="#介绍下实现一个自定义view的基本流程" class="headerlink" title="介绍下实现一个自定义view的基本流程?"></a>介绍下实现一个自定义view的基本流程?</h1><ol>
<li>自定义View的属性 编写attr.xml文件 </li>
<li>在layout布局文件中引用，同时引用命名空间</li>
<li>在View的构造方法中获得我们自定义的属性 ，在自定义控件中进行读取（构造方法拿到attr.xml文件值） </li>
<li>重写onMesure </li>
<li>重写onDraw</li>
</ol>
<h1 id="Android多线程的实现方式有哪些"><a href="#Android多线程的实现方式有哪些" class="headerlink" title="Android多线程的实现方式有哪些?"></a>Android多线程的实现方式有哪些?</h1><ol>
<li>Thread &amp; AsyncTask </li>
<li>Thread 可以与Loop 和 Handler 共用建立消息处理队列 </li>
<li>AsyncTask 可以作为线程池并行处理多任务</li>
</ol>
<h1 id="Android下解决滑动冲突的常见思路是什么"><a href="#Android下解决滑动冲突的常见思路是什么" class="headerlink" title="Android下解决滑动冲突的常见思路是什么?"></a>Android下解决滑动冲突的常见思路是什么?</h1><p>相关的滑动组件 重写onInterceptTouchEvent，然后判断根据xy值，来决定是否要拦截当前操作</p>
<hr>
<h1 id="HttpURLConnection和HttpClient他们各自的优缺点是什么"><a href="#HttpURLConnection和HttpClient他们各自的优缺点是什么" class="headerlink" title="HttpURLConnection和HttpClient他们各自的优缺点是什么?"></a>HttpURLConnection和HttpClient他们各自的优缺点是什么?</h1><h1 id="请问平时开发过程中，你是如何做到多分辨率适配的？"><a href="#请问平时开发过程中，你是如何做到多分辨率适配的？" class="headerlink" title=".请问平时开发过程中，你是如何做到多分辨率适配的？"></a>.请问平时开发过程中，你是如何做到多分辨率适配的？</h1><ol>
<li>根据不同分辨率建立不同的布局文件 </li>
<li>根据分辨率不同建立不同分辨率的资源图片 </li>
<li>在程序启动时，获取当前屏幕的分辨率和密度，在代码中进行适配 </li>
<li>为不同分辨率的写不同的dimen文件。 </li>
<li>其实还有就是多使用fragement</li>
</ol>
<h1 id="如何在不失真的条件下显示一张超高清的图片或者长图"><a href="#如何在不失真的条件下显示一张超高清的图片或者长图" class="headerlink" title="如何在不失真的条件下显示一张超高清的图片或者长图?"></a>如何在不失真的条件下显示一张超高清的图片或者长图?</h1><ol>
<li>通过计算BitmapFactory.Options 对象的inSamleSize 值 等比的压缩图片 。 </li>
<li>使用WebView来加载该图片； </li>
<li>使用MapView或者TileView来显示图片（类似地图的机制）</li>
</ol>
<h1 id="1-android-async-http"><a href="#1-android-async-http" class="headerlink" title="1. android-async-http."></a>1. android-async-http.</h1><p>1.封装了下常用的方法,get post 上传 下载 ,所有的请求我都是用的同步请求. </p>
<p>具体的用法一般都是和业务逻辑在一起,而我的业务逻辑是用异步去处理的. </p>
<p>关于网络请求结果的缓存,我是单独处理的.并没有放在网络层.</p>
<p>2.在HttpUrlConnection基础上封装, 包括请求成功, 失败, 请求中, 网络问题等封装, 利用广播与UI交互<br>3.直接使用xUtils，afinal,okHttp，Volley等开源第三方框架；</p>
<p>Bitmap是android中经常使用的一个类，它代表了一个图片资源。<br>Bitmap消耗内存很严重，如果不注意优化代码，经常会出现OOM问题，优化方式通常有这么几种：</p>
<ol>
<li>使用缓存； </li>
<li>压缩图片； </li>
<li>及时回收；</li>
</ol>
<h1 id="Android-fragment和activity的区别"><a href="#Android-fragment和activity的区别" class="headerlink" title="Android fragment和activity的区别"></a>Android fragment和activity的区别</h1><p>你可以理解Fragment是一种特殊的View，负责一个模块或者一个特殊部分的展示。</p>
<p>大部分Fragment是依托于Activity存在的，由Activity的FragmentManager来管理 </p>
<p>Fragment可以解决多Activity的问题，即将3.0之前的频繁Activity跳转改成一个Activity内Fragment的切换。<br>&gt;</p>
<ol>
<li>Fragment可以解决碎片化的问题。 </li>
<li>fragment是android3.0新增的 </li>
<li>fragment可以重用 </li>
<li>fragment必须嵌套在activity中使用，它的生命周期受activity的影响。</li>
</ol>
<h1 id="Service和广播-BroadcastReceivre会不会出现ANR？"><a href="#Service和广播-BroadcastReceivre会不会出现ANR？" class="headerlink" title="Service和广播 BroadcastReceivre会不会出现ANR？"></a>Service和广播 BroadcastReceivre会不会出现ANR？</h1><p>Service，广播 会出现ANR </p>
<p>服务, 广播都是主线程中, 既然是主线程 当然会anr 所以耗时操作还是必须另起线程</p>
<p>通俗的说超时时间：Activity 5秒, Broadcast 10秒, Server 20秒</p>
<p># </p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/tags/Android面试/">Android面试</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/面试/">面试</a>
</div>



<div class="article-share" id="share">

  <div data-url="//luojunquan.top/2017/02/21/Android面试进阶/" data-title="Android面试进阶 | 在路上的罗小贱" data-tsina="undefined" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/02/21/自定义View、ViewGroup、控件/" title="自定义View、ViewGroup、控件">
  <strong>PREVIOUS:</strong><br/>
  <span>
  自定义View、ViewGroup、控件</span>
</a>
</div>


<div class="next">
<a href="/2017/02/21/Android应用界面开发—Handler（实现倒计时）/"  title="Android应用界面开发——Handler（实现倒计时）onProgressUpdate">
 <strong>NEXT:</strong><br/> 
 <span>Android应用界面开发——Handler（实现倒计时）onProgressUpdate
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是ANR，如何避免？"><span class="toc-number">1.</span> <span class="toc-text">什么是ANR，如何避免？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Handler机制原理？"><span class="toc-number">2.</span> <span class="toc-text">Handler机制原理？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#请解释下在单线程模型中Message、Handler、Message-Queue、Looper之间的关系。"><span class="toc-number">3.</span> <span class="toc-text">请解释下在单线程模型中Message、Handler、Message Queue、Looper之间的关系。</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android-中线程与线程，进程与进程之间如何通信"><span class="toc-number">4.</span> <span class="toc-text">Android 中线程与线程，进程与进程之间如何通信 ?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#View-surfaceView-GLSurfaceView的区别"><span class="toc-number">5.</span> <span class="toc-text">View, surfaceView, GLSurfaceView的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#关于AndroidOOM，以及如何避免？"><span class="toc-number">6.</span> <span class="toc-text">关于AndroidOOM，以及如何避免？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#说说mvc模式的原理，它在android中的运用"><span class="toc-number">7.</span> <span class="toc-text">说说mvc模式的原理，它在android中的运用?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？"><span class="toc-number">8.</span> <span class="toc-text">要做一个尽可能流畅的ListView，你平时在工作中如何进行优化的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#对于Android-的安全问题，你知道多少"><span class="toc-number">9.</span> <span class="toc-text">对于Android 的安全问题，你知道多少</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android启动Service的两种方式是什么-它们的适用情况是什么"><span class="toc-number">10.</span> <span class="toc-text">Android启动Service的两种方式是什么? 它们的适用情况是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#介绍下实现一个自定义view的基本流程"><span class="toc-number">11.</span> <span class="toc-text">介绍下实现一个自定义view的基本流程?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android多线程的实现方式有哪些"><span class="toc-number">12.</span> <span class="toc-text">Android多线程的实现方式有哪些?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android下解决滑动冲突的常见思路是什么"><span class="toc-number">13.</span> <span class="toc-text">Android下解决滑动冲突的常见思路是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HttpURLConnection和HttpClient他们各自的优缺点是什么"><span class="toc-number">14.</span> <span class="toc-text">HttpURLConnection和HttpClient他们各自的优缺点是什么?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#请问平时开发过程中，你是如何做到多分辨率适配的？"><span class="toc-number">15.</span> <span class="toc-text">.请问平时开发过程中，你是如何做到多分辨率适配的？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#如何在不失真的条件下显示一张超高清的图片或者长图"><span class="toc-number">16.</span> <span class="toc-text">如何在不失真的条件下显示一张超高清的图片或者长图?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-android-async-http"><span class="toc-number">17.</span> <span class="toc-text">1. android-async-http.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Android-fragment和activity的区别"><span class="toc-number">18.</span> <span class="toc-text">Android fragment和activity的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Service和广播-BroadcastReceivre会不会出现ANR？"><span class="toc-number">19.</span> <span class="toc-text">Service和广播 BroadcastReceivre会不会出现ANR？</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
			<li><a href="/categories/Android/" title="Android">Android<sup>11</sup></a></li>
		
			<li><a href="/categories/Android-Studio/" title="Android Studio">Android Studio<sup>1</sup></a></li>
		
			<li><a href="/categories/Android案例/" title="Android案例">Android案例<sup>2</sup></a></li>
		
			<li><a href="/categories/Android知识点/" title="Android知识点">Android知识点<sup>1</sup></a></li>
		
			<li><a href="/categories/Android第三方库/" title="Android第三方库">Android第三方库<sup>2</sup></a></li>
		
			<li><a href="/categories/Android重点/" title="Android重点">Android重点<sup>7</sup></a></li>
		
			<li><a href="/categories/Android错误/" title="Android错误">Android错误<sup>6</sup></a></li>
		
			<li><a href="/categories/Android面试/" title="Android面试">Android面试<sup>1</sup></a></li>
		
			<li><a href="/categories/Bmob/" title="Bmob">Bmob<sup>1</sup></a></li>
		
			<li><a href="/categories/CSDN博客/" title="CSDN博客">CSDN博客<sup>1</sup></a></li>
		
			<li><a href="/categories/Handler/" title="Handler">Handler<sup>1</sup></a></li>
		
			<li><a href="/categories/Hexo教程/" title="Hexo教程">Hexo教程<sup>2</sup></a></li>
		
			<li><a href="/categories/Http/" title="Http">Http<sup>1</sup></a></li>
		
			<li><a href="/categories/JAVA/" title="JAVA">JAVA<sup>2</sup></a></li>
		
			<li><a href="/categories/Java/" title="Java">Java<sup>2</sup></a></li>
		
			<li><a href="/categories/Java面试/" title="Java面试">Java面试<sup>1</sup></a></li>
		
			<li><a href="/categories/Jsoup/" title="Jsoup">Jsoup<sup>1</sup></a></li>
		
			<li><a href="/categories/Looper/" title="Looper">Looper<sup>1</sup></a></li>
		
			<li><a href="/categories/OOM解决方案/" title="OOM解决方案">OOM解决方案<sup>1</sup></a></li>
		
			<li><a href="/categories/RxJava/" title="RxJava">RxJava<sup>1</sup></a></li>
		
			<li><a href="/categories/命令总结/" title="命令总结">命令总结<sup>1</sup></a></li>
		
			<li><a href="/categories/堆和栈/" title="堆和栈">堆和栈<sup>1</sup></a></li>
		
			<li><a href="/categories/学习辅助工具/" title="学习辅助工具">学习辅助工具<sup>2</sup></a></li>
		
			<li><a href="/categories/常见错误/" title="常见错误">常见错误<sup>1</sup></a></li>
		
			<li><a href="/categories/数据库/" title="数据库">数据库<sup>1</sup></a></li>
		
			<li><a href="/categories/百度地图/" title="百度地图">百度地图<sup>2</sup></a></li>
		
			<li><a href="/categories/缓存/" title="缓存">缓存<sup>1</sup></a></li>
		
			<li><a href="/categories/缓存机制/" title="缓存机制">缓存机制<sup>1</sup></a></li>
		
			<li><a href="/categories/网络协议/" title="网络协议">网络协议<sup>1</sup></a></li>
		
			<li><a href="/categories/解决方案/" title="解决方案">解决方案<sup>3</sup></a></li>
		
			<li><a href="/categories/面试/" title="面试">面试<sup>2</sup></a></li>
		
			<li><a href="/categories/项目SDK/" title="项目SDK">项目SDK<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Android/" title="Android">Android<sup>44</sup></a></li>
		
			<li><a href="/tags/Android-Studio/" title="Android Studio">Android Studio<sup>2</sup></a></li>
		
			<li><a href="/tags/Android加载图片/" title="Android加载图片">Android加载图片<sup>1</sup></a></li>
		
			<li><a href="/tags/Android错误/" title="Android错误">Android错误<sup>5</sup></a></li>
		
			<li><a href="/tags/Android面试/" title="Android面试">Android面试<sup>1</sup></a></li>
		
			<li><a href="/tags/Bitmap/" title="Bitmap">Bitmap<sup>1</sup></a></li>
		
			<li><a href="/tags/Bmob/" title="Bmob">Bmob<sup>1</sup></a></li>
		
			<li><a href="/tags/CSDN博客/" title="CSDN博客">CSDN博客<sup>1</sup></a></li>
		
			<li><a href="/tags/Fragment/" title="Fragment">Fragment<sup>1</sup></a></li>
		
			<li><a href="/tags/Handler/" title="Handler">Handler<sup>1</sup></a></li>
		
			<li><a href="/tags/Hexo/" title="Hexo">Hexo<sup>2</sup></a></li>
		
			<li><a href="/tags/Http/" title="Http">Http<sup>1</sup></a></li>
		
			<li><a href="/tags/JAVA/" title="JAVA">JAVA<sup>2</sup></a></li>
		
			<li><a href="/tags/Java/" title="Java">Java<sup>2</sup></a></li>
		
			<li><a href="/tags/Jsoup/" title="Jsoup">Jsoup<sup>1</sup></a></li>
		
			<li><a href="/tags/Linux/" title="Linux">Linux<sup>1</sup></a></li>
		
			<li><a href="/tags/Looper/" title="Looper">Looper<sup>1</sup></a></li>
		
			<li><a href="/tags/MVC/" title="MVC">MVC<sup>1</sup></a></li>
		
			<li><a href="/tags/MVP/" title="MVP">MVP<sup>1</sup></a></li>
		
			<li><a href="/tags/MarkDownPad2/" title="MarkDownPad2">MarkDownPad2<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="null" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		<a href="http://weibo.com/luojunquan" target="_blank" title="weibo"></a>
		
		
		
		<a href="https://github.com/luojunquan" target="_blank" title="github"></a>
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2017 
		
		<a href="//luojunquan.top" target="_blank" title="罗小贱">罗小贱</a>
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"luojunquan"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 





  </body>
</html>
